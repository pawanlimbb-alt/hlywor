<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZVLSVF6T3J"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-ZVLSVF6T3J');
    </script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Retro Gallery</title>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Inter:wght@400;600&display=swap"
    rel="stylesheet" />
  <link rel="stylesheet" href="style/gallery.css" />
</head>

<body>
 <nav>
    <div class="nav-left">
      <h1 class="logo">HlYWoR</h1>
    </div>

    <div class="nav-right">
      <a href="index.html">Home</a>
      <a href="gallery.html">Gallery</a>
      <a href="goal.html">Goals</a>
      <a href="about.html">About</a>
      <div class="hamburger" id="hamburger">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
  </nav>

  <!-- Compact Right Popup -->
  <div class="popup-nav" id="popupNav">
    <a href="index.html">Home</a>
    <a href="gallery.html">Gallery</a>
    <a href="goal.html">Goals</a>
    <a href="about.html">About</a>
  </div>

  <header>
    <h1>Gallery</h1>
    <p>Community wall of memories.</p>
  </header>

  <main class="free-gallery">
    <!-- Your backend will render images like this -->
    <div class="photo">
      <img src="style/images/gal1.png" alt="Photo 1">
      <div class="author">By pawan</div>
    </div>
    <div class="photo">
      <img src="style/images/gal2.png" alt="Photo 2">
      <div class="author">By Paw</div>
    </div>
    <div class="photo">
      <img src="style/images/gal4.webp" alt="Photo 3">
      <div class="author">By Paw</div>
    </div>
    <div class="photo">
      <img src="style/images/IMG_20250527_172350033.jpg" alt="Photo 1">
      <div class="author">By Pawan L.</div>
    </div>
    <div class="photo">
      <img src="style/images/gal5.webp" alt="Photo 3">
      <div class="author">By Suv</div>
    </div>
    <div class="photo">
      <img src="style/images/IMG_20250709_181223731.jpg" alt="Photo 2">
      <div class="author">By Morak M.</div>
    </div>
    <div class="photo">
      <img src="style/images/gal6.webp" alt="Photo 3">
      <div class="author">By Suv</div>
    </div>
   
    
    
   
    <div class="photo">
      <img src="style/images/gal3.webp" alt="Photo 3">
      <div class="author">By Suvam L.</div>
    </div>

    <div class="photo">
      <img src="style/images/garden.webp" alt="Photo 3">
      <div class="author">By Suvam L.</div>
    </div>

    <div class="photo">
      <img src="style/images/night.webp" alt="Photo 3">
      <div class="author">By Suvam L.</div>
    </div>

    <div class="photo">
      <img src="style/images/par.webp" alt="Photo 3">
      <div class="author">By Pari K.</div>
    </div>

<div class="photo">
      <img src="style/images/par2.webp" alt="Photo 3">
      <div class="author">By pari K.</div>
    </div>

    <div class="photo">
      <img src="style/images/par3.webp" alt="Photo 3">
      <div class="author">By Pari K.</div>
    </div>

    <div class="photo">
      <img src="style/images/par4.webp" alt="Photo 3">
      <div class="author">By Pari K.</div>
    </div>

    <div class="photo">
      <img src="style/images/par5.webp" alt="Photo 3">
      <div class="author">By Pari K.</div>
    </div>

    <div class="photo">
      <img src="style/images/par6.webp" alt="Photo 3">
      <div class="author">By Pari K.</div>
    </div>

    <div class="photo">
      <img src="style/images/par7.webp" alt="Photo 3">
      <div class="author">By Pari K.</div>
    </div>

    <div class="photo">
      <img src="style/images/par8.webp" alt="Photo 3">
      <div class="author">By Pari K.</div>
    </div>





  </main>

  <!-- üîÆ Lightbox Container -->
  <div id="lightbox">
    <img src="" alt="">
  </div>
  

<!--commnet-->
<!-- === Comment Section Start === 
<div id="comment-section" style="max-width:600px;margin:auto;">
  <h3>Leave a Comment</h3>
  <input id="name" placeholder="Your name" style="width:100%;margin:6px 0;padding:8px;">
  <textarea id="comment" rows="3" placeholder="Write your comment..." style="width:100%;margin:6px 0;padding:8px;"></textarea>
  <button id="postBtn" style="padding:10px 15px;background:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;">
    Post Comment
  </button>

  <h3 style="margin-top:20px;">Comments</h3>
  <div id="comments"></div>
</div>

<script>
  const endpoint = '/.netlify/functions/postComment'; // Netlify function endpoint

  async function loadComments() {
    try {
      const res = await fetch(endpoint);
      const comments = await res.json();
      const container = document.getElementById('comments');
      container.innerHTML = comments.map(c => `
        <div style="border:1px solid #ccc;border-radius:6px;padding:10px;margin:10px 0;">
          <strong>${c.name}</strong><br>
          <small>${new Date(c.timestamp).toLocaleString()}</small>
          <p>${c.comment}</p>
        </div>
      `).join('');
    } catch (err) {
      console.error(err);
      document.getElementById('comments').innerHTML = '<p>Failed to load comments.</p>';
    }
  }

  async function postComment() {
    const name = document.getElementById('name').value.trim();
    const comment = document.getElementById('comment').value.trim();
    if (!name || !comment) return alert('Please enter name and comment');
    document.getElementById('postBtn').disabled = true;
    try {
      const res = await fetch(endpoint, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ name, comment })
      });
      const result = await res.json();
      if (result.status === 'success') {
        document.getElementById('name').value = '';
        document.getElementById('comment').value = '';
        loadComments();
      } else {
        alert('Error posting comment.');
      }
    } catch (err) {
      console.error(err);
      alert('Failed to send comment.');
    }
    document.getElementById('postBtn').disabled = false;
  }

  document.getElementById('postBtn').addEventListener('click', postComment);
  loadComments();
</script> -->
<!-- === Comment Section End === -->
<!-- === Comment Section Start === -->
<!-- === Comment Section Start === -->
<div id="comment-section" style="max-width:600px;margin:auto;">
  <h3>Leave a Comment</h3>
  <input id="name" placeholder="Your name" style="width:100%;margin:6px 0;padding:8px;">
  <textarea id="comment" rows="3" placeholder="Write your comment..." style="width:100%;margin:6px 0;padding:8px;"></textarea>
  <button id="postBtn" style="padding:10px 15px;background:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;">
    Post Comment
  </button>

  <h3 style="margin-top:20px;">Comments</h3>
  <div id="comments"></div>
</div>

<script>
  // üëá Unique ID for this blog post (change on each post)
  const POST_ID = 'gallery'; // e.g. 'travel-tips-2025', 'ai-future', etc.
  const endpoint = '/api/postComment'; // ‚úÖ Vercel function endpoint

  async function loadComments() {
    try {
      const res = await fetch(`${endpoint}?postId=${encodeURIComponent(POST_ID)}`);
      const comments = await res.json();
      const container = document.getElementById('comments');
      container.innerHTML = comments.length
        ? comments.map(c => `
            <div style="border:1px solid #ccc;border-radius:6px;padding:10px;margin:10px 0;">
              <strong>${c.name}</strong><br>
              <small>${new Date(c.timestamp).toLocaleString()}</small>
              <p>${c.comment}</p>
            </div>
          `).join('')
        : '<p>No comments yet ‚Äî be the first to share your thoughts!</p>';
    } catch (err) {
      console.error(err);
      document.getElementById('comments').innerHTML = '<p>Failed to load comments.</p>';
    }
  }

  async function postComment() {
    const name = document.getElementById('name').value.trim();
    const comment = document.getElementById('comment').value.trim();
    if (!name || !comment) return alert('Please enter your name and a comment.');

    document.getElementById('postBtn').disabled = true;

    try {
      const res = await fetch(endpoint, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ name, comment, postId: POST_ID })
      });
      const result = await res.json();
      if (result.status === 'success') {
        document.getElementById('name').value = '';
        document.getElementById('comment').value = '';
        loadComments();
      } else {
        alert('Error posting comment.');
      }
    } catch (err) {
      console.error(err);
      alert('Failed to send comment.');
    }

    document.getElementById('postBtn').disabled = false;
  }

  document.getElementById('postBtn').addEventListener('click', postComment);
  loadComments();
</script>
<!-- === Comment Section End === -->

<!-- === Comment Section End === -->





  <footer>
    ¬© 2025 HlyWor Blog. Crafted with ‚ù§Ô∏è in our style.
  </footer>

  <!-- ‚öôÔ∏è JS: Random layout (optional) + Lightbox -->
  <script>
    // Optional random layout (delete if handled in backend)
    document.addEventListener("DOMContentLoaded", () => {
      const spanClasses = ['span-1x1', 'span-2x1', 'span-1x2', 'span-2x2'];
      document.querySelectorAll('.photo').forEach(photo => {
        const randomClass = spanClasses[Math.floor(Math.random() * spanClasses.length)];
        photo.classList.add(randomClass);
      });
    });

    // üéÆ Simple Lightbox
    const lightbox = document.getElementById('lightbox');
    const lightboxImg = lightbox.querySelector('img');

    document.querySelectorAll('.photo img').forEach(img => {
      img.addEventListener('click', () => {
        lightboxImg.src = img.src;
        lightbox.classList.add('active');
      });
    });

    lightbox.addEventListener('click', () => {
      lightbox.classList.remove('active');
    });

    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') lightbox.classList.remove('active');
    });
  </script>

  <script>
    const hamburger = document.getElementById('hamburger');
    const popupNav = document.getElementById('popupNav');

    hamburger.addEventListener('click', () => {
      hamburger.classList.toggle('active');
      popupNav.classList.toggle('active');
    });

    document.addEventListener('click', (e) => {
      if (!popupNav.contains(e.target) && !hamburger.contains(e.target)) {
        popupNav.classList.remove('active');
        hamburger.classList.remove('active');
      }
    });
  </script>
 

</body>

</html>